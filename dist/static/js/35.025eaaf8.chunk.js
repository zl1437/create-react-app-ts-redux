(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{107:function(e,t,n){"use strict";var a=n(69),r=n(22),c=n(23),o=n(25),i=n(24),s=n(26),u=n(0),l=(n(108),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={},n}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.btnDisabled;return u.createElement("div",{className:"bottom-btn"},u.createElement(a.a,{type:"primary",disabled:n,className:"btn",onClick:this.props.click},t))}}]),t}(u.Component));t.a=l},108:function(e,t,n){},115:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return i});var a=n(62),r=function(e){return Object(a.a)("/staff/staffList",e,!1)},c=function(e){return Object(a.b)("/staff/staffOperation",e,{openid:!0})},o=function(e){return Object(a.b)("/Home/getCompanyList",e,{openid:!0})},i=function(e){return Object(a.a)("/staff/staffDel",e,!1)}},148:function(e,t,n){},155:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var a=n(62),r=function(e){return Object(a.b)("/User/getSaleCourseList",e,{openid:!0})},c=function(e){return Object(a.b)("/User/getSaleSigninList",e,{openid:!0})},o=function(e){return Object(a.b)("/SelfHelp/changeMember",e,{openid:!0})},i=function(e){return Object(a.b)("/SelfHelp/cancel",e,{openid:!0})}},383:function(e,t,n){"use strict";n.r(t);var a=n(159),r=n(15),c=n(68),o=n(22),i=n(23),s=n(25),u=n(24),l=n(26),m=n(0),p=n(72),d=n.n(p),h=n(107),f=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.course;return console.log(this.props),m.createElement("div",{className:"company-search",style:{display:t.length>0?"block":"none"}},t.map(function(t,n){return m.createElement("div",{className:"search-i",key:n,onClick:function(){return e.props.checkCompany(t.id,t.name)}},m.createElement("p",null,t.name),m.createElement("p",null,t.erp_id))}))}}]),t}(m.Component),b=n(115),v=n(155);n(148);n.d(t,"default",function(){return g});var g=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).changePhone=function(e){/^1\d{10}$/.test(e)?n.setState({hasError:!1}):n.setState({hasError:!0}),n.setState({phone:e})},n.changeMust=function(e,t){return 0!==e.replace(/\s/g,"").length||(n.setState({mustFlag:!0}),c.a.info("".concat(t,"\u4e0d\u80fd\u4e3a\u7a7a"),2),!1)},n.onErrorClick=function(){n.state.hasError&&c.a.info("\u8bf7\u8f93\u516511\u4f4d\u6709\u6548\u624b\u673a\u53f7")},n.checkEmail=function(){var e=n.state.mail;return!!/^([a-zA-Z]|[0-9]|\.)(\w|\-|\.)+@[a-zA-Z0-9]/.test(e)||(c.a.fail("\u8bf7\u8f93\u5165\u6b63\u786e\u683c\u5f0f\u7684\u90ae\u7bb1",2),n.setState({disableBtn:!1}),!1)},n.submitEdit=function(){n.setState({disableBtn:!0});var e=n.props.location.search,t=d.a.parse(e.substring(1)),a=n.state,r=a.company,o=a.name,i=a.phone,s=a.work,u=a.mail,l=(a.company_id,a.hasError);if(n.changeMust(r,"\u516c\u53f8")&&n.changeMust(o,"\u59d3\u540d")&&n.changeMust(i,"\u624b\u673a\u53f7")&&n.checkEmail()&&!l){var m={course_member_id:t.course_member_id,department:r,email:u,jobtitle:s,name:o,phone:i,send_type:1,type:2};Object(v.b)(m).then(function(e){n.setState({disableBtn:!1}),e.status?c.a.fail(e.message,2):(c.a.info("\u63d0\u4ea4\u6210\u529f"),n.props.history.go(-1))})}},n.changeCompany=function(e){c.a.loading("");var t=n.state.companyList;n.setState({company:e});var a={name:e};Object(b.a)(a).then(function(a){a.status||(t=0===e.replace(/\s/g,"").length?[]:a.data,n.setState({companyList:Object(r.a)(t)}),c.a.hide())})},n.checkFromSource=function(){var e=n.props.location.search,t=d.a.parse(e.substring(1));n.setState({name:t.name,course_member_id:t.course_member_id})},n.checkComItem=function(e,t){n.setState({company:t,company_id:e,companyList:[]})},n.state={company:"",name:"",phone:"",work:"",mail:"",hasError:!1,mustFlag:!1,companyList:[],company_id:"",course_member_id:"",disableBtn:!1},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.title="\u66f4\u6362\u5b66\u5458",this.checkFromSource()}},{key:"render",value:function(){var e=this,t=this.state,n=t.company,r=t.name,c=t.phone,o=t.work,i=t.mail,s=t.companyList,u=t.disableBtn;return m.createElement("div",{className:"edit"},m.createElement(a.a,{placeholder:"\u8bf7\u9009\u62e9\u516c\u53f8",className:"input-item",value:n,onChange:this.changeCompany},"*\u516c\u53f8"),m.createElement(a.a,{clear:!0,placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d",className:"input-item",value:r,onChange:function(t){e.setState({name:t})}},"*\u59d3\u540d"),m.createElement(a.a,{clear:!0,placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",className:"input-item",value:c,onChange:this.changePhone,error:this.state.hasError,onErrorClick:this.onErrorClick},"*\u624b\u673a"),m.createElement(a.a,{clear:!0,placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",className:"input-item",value:i,onChange:function(t){e.setState({mail:t})}},"*\u90ae\u7bb1"),m.createElement(a.a,{clear:!0,placeholder:"\u8bf7\u8f93\u5165\u6240\u5728\u804c\u4f4d",className:"input-item",value:o,onChange:function(t){e.setState({work:t})}},"\u804c\u4f4d"),m.createElement(h.a,{btnDisabled:u,click:this.submitEdit,title:"\u786e\u5b9a"}),m.createElement(f,{course:s,checkCompany:this.checkComItem}))}}]),t}(m.Component)},62:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return h});var a=n(27),r=n(22),c=n(23),o=n(71),i=n.n(o),s=n(28),u=Object(s.c)(),l=localStorage.getItem("openid")||"{}",m=JSON.parse(l).data||"";i.a.defaults.baseURL="//".concat(u).concat(s.a),i.a.defaults.headers.post["Content-Type"]="application/json",i.a.interceptors.request.use(function(e){return e.headers.openid=m,Promise.resolve(e)},function(e){return Promise.reject(e)}),i.a.interceptors.response.use(function(e){return Promise.resolve(e.data)},function(e){return Promise.reject(e)});var p=new(function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,[{key:"request",value:function(e){return i.a.request(e)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(arguments.length>2?arguments[2]:void 0)?{}:{openid:m};return this.request({url:e,params:Object(a.a)({},t,n)})}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.openid&&(t.openid=m),this.request(Object(a.a)({method:"post",url:e,data:t},n))}}]),e}()),d=(p.request.bind(p),p.get.bind(p)),h=p.post.bind(p)}}]);
//# sourceMappingURL=35.025eaaf8.chunk.js.map