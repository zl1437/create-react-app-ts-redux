{"ast":null,"code":"export const LinkHost = 'api.goldenfinance.com.cn'; //url host 设定\n\n//ts location对象\nexport const getEnv = () => {\n  //环境判断\n  let host = location.host;\n  let env = host.match(/[^\\-]*-/); // 开发环境\n\n  if (env === null) {\n    return \"\";\n  }\n\n  if (env[0] === 'dev-') {\n    return 't-';\n  } // 正式环境\n\n\n  if (env[0] !== 'dev-' && env[0] !== 't-' && env[0] !== 'pre-') {\n    return '';\n  } // 测试、pre\n\n\n  return env[0];\n};\nexport const test = {};\nexport const checkMobile = () => {\n  (function (doc, win) {\n    var docEl = doc.documentElement,\n        resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',\n        recalc = function () {\n      var clientWidth = docEl.clientWidth;\n      if (!clientWidth) return;\n      docEl.style.fontSize = 100 * (clientWidth / 375) + 'px';\n    };\n\n    if (!doc.addEventListener) return;\n    win.addEventListener(resizeEvt, recalc, false);\n    doc.addEventListener('DOMContentLoaded', recalc, false);\n  })(document, window);\n};\nexport const getQueryVariable = variable => {\n  //获取URL参数\n  var query = window.location.search.substring(1);\n  var vars = query.split(\"&\");\n\n  for (var i = 0; i < vars.length; i++) {\n    var pair = vars[i].split(\"=\");\n\n    if (pair[0] == variable) {\n      return pair[1];\n    }\n  }\n\n  return '';\n};\nexport const setLocal = (key, value) => {\n  let curTime = new Date().getTime();\n  localStorage.setItem(key, JSON.stringify({\n    data: value,\n    time: curTime\n  }));\n};\nexport const refreshStorage = (key, exp) => {\n  let data = localStorage.getItem(key) || '';\n\n  if (typeof data !== \"undefined\" && data !== null && data !== \"\") {\n    let dataObj = JSON.parse(data);\n\n    if (new Date().getTime() - dataObj.time > exp) {\n      return false;\n    } else {\n      return JSON.parse(data).data || '';\n    }\n  } else {\n    return false;\n  }\n};\nexport const haveStorage = key => {\n  let data = localStorage.getItem(key) || '';\n\n  if (typeof data !== \"undefined\" && data !== null && data !== \"\") {\n    return JSON.parse(data).data || '';\n  } else {\n    return false;\n  }\n};","map":{"version":3,"sources":["/Users/zhenglei/Desktop/zhenglei/create-react-app-ts-redux/src/util/config.ts"],"names":["LinkHost","getEnv","host","location","env","match","test","checkMobile","doc","win","docEl","documentElement","resizeEvt","window","recalc","clientWidth","style","fontSize","addEventListener","document","getQueryVariable","variable","query","search","substring","vars","split","i","length","pair","setLocal","key","value","curTime","Date","getTime","localStorage","setItem","JSON","stringify","data","time","refreshStorage","exp","getItem","dataObj","parse","haveStorage"],"mappings":"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","sourcesContent":["\n\nexport const LinkHost = 'api.goldenfinance.com.cn';\n//url host 设定\ndeclare const location: any;\n//ts location对象\n\nexport const getEnv = () => {//环境判断\n    let host = location.host;\n    let env = host.match(/[^\\-]*-/);\n    // 开发环境\n    if (env === null) {\n        return \"\"\n    }\n    if (env[0] === 'dev-') {\n        return 't-';\n    }\n    // 正式环境\n    if (env[0] !== 'dev-' && env[0] !== 't-' && env[0] !== 'pre-') {\n        return '';\n    }\n    // 测试、pre\n    return env[0]\n}\n\nexport const test: any = {\n\n}\n\nexport const checkMobile = () => {\n    (function (doc, win) {\n        var docEl = doc.documentElement,\n            resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',\n            recalc = function () {\n                var clientWidth = docEl.clientWidth;\n                if (!clientWidth) return;\n\n                docEl.style.fontSize = 100 * (clientWidth / 375) + 'px';\n\n            };\n\n        if (!doc.addEventListener) return;\n        win.addEventListener(resizeEvt, recalc, false);\n        doc.addEventListener('DOMContentLoaded', recalc, false);\n    })(document, window);\n}\n\nexport const getQueryVariable = (variable: string) => {//获取URL参数\n    var query = window.location.search.substring(1);\n    var vars = query.split(\"&\");\n    for (var i = 0; i < vars.length; i++) {\n        var pair = vars[i].split(\"=\");\n        if (pair[0] == variable) { return pair[1]; }\n    }\n    return '';\n}\n\nexport const setLocal = (key, value) => {\n    let curTime = new Date().getTime();\n    localStorage.setItem(key, JSON.stringify({ data: value, time: curTime }));\n}\nexport const refreshStorage = (key, exp) => {\n    let data = localStorage.getItem(key) || '';\n    if (typeof data !== \"undefined\" && data !== null && data !== \"\") {\n        let dataObj = JSON.parse(data);\n        if (new Date().getTime() - dataObj.time > exp) {\n            return false;\n        } else {\n            return JSON.parse(data).data || '';\n        }\n    } else {\n        return false;\n    }\n}\nexport const haveStorage = (key) => {\n    let data = localStorage.getItem(key) || '';\n    if (typeof data !== \"undefined\" && data !== null && data !== \"\") {\n        return JSON.parse(data).data || '';\n    } else {\n        return false;\n    }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}